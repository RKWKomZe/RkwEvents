<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers"
    xmlns:rkw="http://typo3.org/ns/RKW/RkwEvents/ViewHelpers"
    xmlns:rkwRegistration="http://typo3.org/ns/RKW/RkwRegistration/ViewHelpers"
    data-namespace-typo3-fluid="true">


	<div class="form__field width25">
		<label class="form-label" for="tx_rkwevents_pi1_salutation">
			<f:translate key="tx_rkwevents_domain_model_eventreservation.salutation" />
            <f:render partial="LabelSuffix" arguments="{field: 'salutation', mandatoryFields: settings.mandatoryFields.eventReservationMainPerson}" />
		</label>
		<f:form.select
            class="select-field"
            id="tx_rkwevents_pi1_salutation"
            property="salutation"
            value="{f:if(condition:'<rkw:or firstIsSalutation=\'true\' or1=\'{newEventReservation.salutation}\' or2=\'{editMode}\' />',then:'{newEventReservation.salutation}',else:'{frontendUser.txRkwregistrationGender}')}"
            options="{99: '{f:translate(key: \'tx_rkwevents_domain_model_eventreservation.salutation.I.99\')}', 0: '{f:translate(key: \'tx_rkwevents_domain_model_eventreservation.salutation.I.0\')}', 1: '{f:translate(key: \'tx_rkwevents_domain_model_eventreservation.salutation.I.1\')}', 2: '{f:translate(key: \'tx_rkwevents_domain_model_eventreservation.salutation.I.2\')}'}"
        />
	</div>

    <div class="form__field width50">
		<label class="form-label" for="tx_rkwevents_pi1_firstName">
			<f:translate key="tx_rkwevents_domain_model_eventreservation.firstName" />
            <f:render partial="LabelSuffix" arguments="{field: 'firstName', mandatoryFields: settings.mandatoryFields.eventReservationMainPerson}" />
		</label>
		<f:form.textfield
            id="tx_rkwevents_pi1_firstName"
            property="firstName"
            value="{f:if(condition:'<rkw:or or1=\'{newEventReservation.firstName}\' or2=\'{editMode}\' />',then:'{newEventReservation.firstName}',else:'{frontendUser.firstName}')}"
            additionalAttributes="{autocomplete:'fname'}"
        />
	</div>

	<div class="form__field width50">
		<label class="form-label" for="tx_rkwevents_pi1_lastName">
			<f:translate key="tx_rkwevents_domain_model_eventreservation.lastName" />
            <f:render partial="LabelSuffix" arguments="{field: 'lastName', mandatoryFields: settings.mandatoryFields.eventReservationMainPerson}" />
		</label>
		<f:form.textfield
            id="tx_rkwevents_pi1_lastName"
            property="lastName"
            value="{f:if(condition:'<rkw:or or1=\'{newEventReservation.lastName}\' or2=\'{editMode}\' />',then:'{newEventReservation.lastName}',else:'{frontendUser.lastName}')}"
            additionalAttributes="{autocomplete:'lname'}"
        />
	</div>

	<div class="form__field width50">
		<label class="form-label" for="tx_rkwevents_pi1_email">
			<f:translate key="tx_rkwevents_domain_model_eventreservation.email" />
            <f:render partial="LabelSuffix" arguments="{field: 'email', mandatoryFields: settings.mandatoryFields.eventReservationMainPerson}" />
		</label>

		<f:if condition="<rkw:or or1='{validFrontendUserEmail}' or2='{editMode}'/>">
			<f:then>
				<f:form.textfield
                    class="readonly"
                    id="tx_rkwevents_pi1_email"
                    property="email"
                    type="email"
                    value="{frontendUser.email}"
                    additionalAttributes="{autocomplete: 'email', readonly: 'readonly'}"
                />
			</f:then>
			<f:else>
				<f:form.textfield
                    id="tx_rkwevents_pi1_email"
                    property="email"
                    type="email"
                    value="{newEventReservation.email}"
                    additionalAttributes="{autocomplete: 'email'}"
                />
			</f:else>
		</f:if>
	</div>


	<div class="form__field width50">
		<label class="form-label" for="tx_rkwevents_pi1_company">
			<f:translate key="tx_rkwevents_domain_model_eventreservation.company" />
            <f:render partial="LabelSuffix" arguments="{field: 'company', mandatoryFields: settings.mandatoryFields.eventReservationMainPerson}" />
		</label>
		<f:form.textfield
            id="tx_rkwevents_pi1_company"
            property="company"
            value="{f:if(condition:'<rkw:or or1=\'{newEventReservation.company}\' or2=\'{editMode}\' />',then:'{newEventReservation.company}',else:'{frontendUser.company}')}"
        />
	</div>


    <div class="form__field width50">
        <label class="form-label" for="tx_rkwevents_pi1_phone">
            <f:translate key="tx_rkwevents_domain_model_eventreservation.phone" />
            <f:render partial="LabelSuffix" arguments="{field: 'phone', mandatoryFields: settings.mandatoryFields.eventReservationMainPerson}" />
        </label>
        <f:form.textfield
            id="tx_rkwevents_pi1_phone"
            property="phone"
            value="{f:if(condition:'<rkw:or or1=\'{newEventReservation.phone}\' or2=\'{editMode}\' />',then:'{newEventReservation.phone}',else:'{frontendUser.phone}')}"
        />
    </div>


    <div class="form__field width50">
        <label class="form-label" for="tx_rkwevents_pi1_mobile">
            <f:translate key="tx_rkwevents_domain_model_eventreservation.mobile" />
            <f:render partial="LabelSuffix" arguments="{field: 'mobile', mandatoryFields: settings.mandatoryFields.eventReservationMainPerson}" />
        </label>
        <f:form.textfield
            id="tx_rkwevents_pi1_mobile"
            property="mobile"
            value="{f:if(condition:'<rkw:or or1=\'{newEventReservation.mobile}\' or2=\'{editMode}\' />',then:'{newEventReservation.mobile}',else:'{frontendUser.mobile}')}"
        />
    </div>


	<div class="form__field width50">
		<label class="form-label" for="tx_rkwevents_pi1_address">
			<f:translate key="tx_rkwevents_domain_model_eventreservation.address" />
            <f:render partial="LabelSuffix" arguments="{field: 'address', mandatoryFields: settings.mandatoryFields.eventReservationMainPerson}" />
		</label>
		<f:form.textfield
            id="tx_rkwevents_pi1_address"
            property="address"
            value="{f:if(condition:'<rkw:or or1=\'{newEventReservation.address}\' or2=\'{editMode}\' />',then:'{newEventReservation.address}',else:'{frontendUser.address}')}"
            additionalAttributes="{autocomplete:'address'}"
        />
	</div>

    <div class="form__field flex width50">
        <div class="form__field-item  form__field-item--zip">
            <label class="form-label" for="tx_rkwevents_pi1_zip">
                <f:translate key="tx_rkwevents_domain_model_eventreservation.zip" />
                <f:render partial="LabelSuffix" arguments="{field: 'zip', mandatoryFields: settings.mandatoryFields.eventReservationMainPerson}" />
            </label>
            <f:form.textfield
                id="tx_rkwevents_pi1_zip"
                property="zip"
                value="{f:if(condition:'<rkw:or or1=\'{newEventReservation.zip}\' or2=\'{editMode}\' />',then:'{newEventReservation.zip}',else:'{frontendUser.zip}')}"
                additionalAttributes="{autocomplete:'zip'}"
            />
        </div>

        <div class="form__field-item  form__field-item--city">
            <label class="form-label" for="tx_rkwevents_pi1_city">
                <f:translate key="tx_rkwevents_domain_model_eventreservation.city" />
                <f:render partial="LabelSuffix" arguments="{field: 'city', mandatoryFields: settings.mandatoryFields.eventReservationMainPerson}" />
            </label>
            <f:form.textfield
                id="tx_rkwevents_pi1_city"
                property="city"
                value="{f:if(condition:'<rkw:or or1=\'{newEventReservation.city}\' or2=\'{editMode}\' />',then:'{newEventReservation.city}',else:'{frontendUser.city}')}"
                additionalAttributes="{autocomplete:'city'}"
            />
        </div>
    </div>

    <!-- targetGroup -->
    <f:if condition="{activateRkwOutcomeFeatures} == 1">
        <div class="form__field width50">
            <label for="tx_rkwevents_pi1_targetGroup">
                <f:translate key="tx_rkwevents_domain_model_eventreservation.targetGroup" />
                <f:render partial="LabelSuffix" arguments="{field: 'targetGroup', mandatoryFields: settings.mandatoryFields.eventReservationMainPerson}" />
            </label>
            <f:form.select
                class="select-field"
                id="tx_rkwevents_pi1_targetGroup"
                name="targetGroup"
                value="{targetGroup}"
                options="{targetGroupList}"
                optionValueField="uid"
                optionLabelField="title"
                prependOptionLabel="<f:translate key='tx_rkwevents_domain_model_eventreservation.targetGroup.pleaseSelect' />"
                prependOptionValue="0"
            />
        </div>
    </f:if>

    <f:comment>
        <!--
        <div class="v320-1">
            <label class="form-label" for="tx_rkwevents_pi1_phone">
                <f:translate key="tx_rkwevents_domain_model_eventreservation.telephone" />
                <f:render partial="LabelSuffix" arguments="{field: 'phone', mandatoryFields: settings.mandatoryFields.eventReservationMainPerson}" />
            </label>
            <f:form.textfield property="phone" id="tx_rkwevents_pi1_phone" value="{f:if(condition:'<rkw:or or1=\'{newEventReservation.phone}\' or2=\'{editMode}\' />',then:'{newEventReservation.phone}',else:'{frontendUser.telephone}')}" additionalAttributes="{autocomplete:'tel'}" placeholder="<f:translate key='tx_rkwevents_fluid.partials_eventReservation_formFieldsMaster.placeholder.phone' />" />
        </div>
        -->
    </f:comment>


    <!-- workshops -->
    <f:comment>

        <f:if condition="{event.workshop1}">
            <div class="v320-1">
                <h5>
                    <f:translate key="tx_rkwevents_fluid.partials_eventReservation_formFieldsMaster.workshop1" />
                </h5>
                <f:for each="{event.workshop1}" as="workshop" iteration="iter">
                    <f:render partial="EventReservation/Workshop" arguments="{workshop: workshop, workshopUnit: 'workshop1', frontendUser: frontendUser}"/>
                    <if condition="!{iter.islast}">
                        <br>
                    </if>
                </f:for>
            </div>
        </f:if>
        <f:if condition="{event.workshop2}">
            <div class="v320-1">
                <h5>
                    <f:translate key="tx_rkwevents_fluid.partials_eventReservation_formFieldsMaster.workshop2" />
                </h5>
                <f:for each="{event.workshop2}" as="workshop" iteration="iter">
                    <f:render partial="EventReservation/Workshop" arguments="{workshop: workshop, workshopUnit: 'workshop2', frontendUser: frontendUser}"/>
                </f:for>
                <if condition="!{iter.islast}">
                    <br>
                </if>
            </div>
        </f:if>
        <f:if condition="{event.workshop3}">
            <div class="v320-1">
                <h5>
                    <f:translate key="tx_rkwevents_fluid.partials_eventReservation_formFieldsMaster.workshop3" />
                </h5>
                <f:for each="{event.workshop3}" as="workshop" iteration="iter">
                    <f:render partial="EventReservation/Workshop" arguments="{workshop: workshop, workshopUnit: 'workshop3', frontendUser: frontendUser}"/>
                </f:for>
                <if condition="!{iter.islast}">
                    <br>
                </if>
            </div>
        </f:if>
    </f:comment>


    <!-- remark and questions -->
    <div class="form__field width100">
        <label class="form-label" for="tx_rkwevents_pi1_remark">
            <f:translate key="tx_rkwevents_domain_model_eventreservation.remark" />
            <f:render partial="LabelSuffix" arguments="{field: 'remark', mandatoryFields: settings.mandatoryFields.eventReservationMainPerson}" />
        </label>
        <f:form.textarea
            id="tx_rkwevents_pi1_remark"
            property="remark"
            rows="3"
            placeholder="<f:translate key='tx_rkwevents_fluid.partials_eventReservation_formFieldsMaster.placeholder.remark' />"
        />
    </div>

    <f:if condition="{settings.showParticipateDinnerCheckbox}">
        <div class="form__field width100">
            <div class="form__field">
                <f:form.checkbox class="checkbox" id="participate_dinner" property="participateDinner" value="1" />
                <label for="participate_dinner" class="checkbox-label">
                    <f:translate key="tx_rkwevents_fluid.partials_eventReservation_formFieldsMaster.participateDinner" />
                </label>
            </div>
        </div>
    </f:if>

    <f:if condition="{settings.showParticipateMeetingCheckbox}">
        <div class="form__field width100">
            <div class="form__field">
                <f:form.checkbox class="checkbox" id="participate_meeting" property="participateMeeting" value="1" />
                <label for="participate_meeting" class="checkbox-label">
                    <f:translate key="tx_rkwevents_fluid.partials_eventReservation_formFieldsMaster.participateMeeting" />
                </label>
            </div>
        </div>
    </f:if>


    <f:if condition="{editMode}">
        <f:else>

            <f:if condition="{activateRkwOutcomeFeatures} == 1">
                <p class="text-small">
                    <f:translate key="tx_rkwevents_fluid.partials_eventReservation_formFieldsMaster.marketingHint.firstPart" />
                    <a href="mailto:{revocationEmail}" target="_blank">{revocationEmail}</a>
                    <f:translate key="tx_rkwevents_fluid.partials_eventReservation_formFieldsMaster.marketingHint.thirdPart" />
                </p>
            </f:if>

            <div class="form__field">
                <f:form.checkbox class="checkbox" id="terms" name="terms" value="1" />
                <label for="terms" class="checkbox-label">
                    <f:translate key="tx_rkwevents_fluid.partials_eventReservation_formFieldsMaster.termsIntro" /> <f:link.page pageUid="{settings.termsPid}" target="_blank"><f:translate key="tx_rkwevents_fluid.partials_eventReservation_formFieldsMaster.terms" /></f:link.page>
                    <f:if condition="{settings.terms2Pid}">
                        <f:translate key="tx_rkwevents_fluid.partials_eventReservation_formFieldsMaster.terms2Intro" /> <f:link.page pageUid="{settings.terms2Pid}" target="_blank"><f:translate key="tx_rkwevents_fluid.partials_eventReservation_formFieldsMaster.terms2" /></f:link.page>
                    </f:if>
                    <br><br><f:translate key="tx_rkwevents_fluid.partials_eventReservation_formFieldsMaster.terms3" />
                </label>
            </div>

            <div class="form__field">
                <f:form.checkbox class="checkbox" id="privacy" name="privacy" value="1" />
                <label for="privacy" class="checkbox-label">
                    <rkwRegistration:privacyText textVersion="events"/>
                </label>
            </div>

        </f:else>
    </f:if>

    <f:if condition="{editMode}">
        <f:else>
            <f:if condition="{settings.mandatoryFields.captcha}">
                <f:render partial="EventReservation/CaptchaElement" />
            </f:if>
        </f:else>
    </f:if>

    <!-- Button Set -->
    <f:render partial="EventReservation/ButtonSet" arguments="{_all}"/>

</html>


